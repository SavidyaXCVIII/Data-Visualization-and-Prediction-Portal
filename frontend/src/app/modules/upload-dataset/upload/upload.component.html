<div class="  top">
  <mat-spinner value="100" class="spinner" color="warn" *ngIf="showSpinner"></mat-spinner>
</div>
<div class="bottom">

  <mat-card class="mat-card-background">
<div class="main">
  <div class="upload-form" [hidden]="showSpinner">
    <mat-card-title class="heading">Upload Dataset</mat-card-title> <br>
    <mat-card-subtitle class="subheading" >Upload your own dataset </mat-card-subtitle>
      <form [formGroup]="uploadDetailsFormGroup">
        <mat-form-field appearance="outline">
          <mat-label>Dataset Name</mat-label>
          <input matInput type="text" required formControlName="datasetName">
        </mat-form-field>

        <mat-form-field appearance="outline" >
          <mat-label>Publisher</mat-label>
          <input matInput type="text" formControlName="publisher">
        </mat-form-field>

        <br>

        <mat-form-field class="date-picker" appearance="outline" >
          <mat-label>Dataset Year</mat-label>

          <input matInput [max]="currentDate" [matDatepicker]="year" required formControlName="datasetYear">
          <mat-datepicker-toggle matSuffix [for]="year"></mat-datepicker-toggle>
          <mat-datepicker #year
                          startView="multi-year"
                          panelClass="example-month-picker"></mat-datepicker>
        </mat-form-field>

        <mat-form-field class="date-picker right" appearance="outline" >
          <mat-label>Released date</mat-label>
          <input matInput [max]="currentDate" [min]="this.uploadDetailsFormGroup.value.datasetYear"  [matDatepicker]="release" required formControlName="releasedDate">
          <mat-datepicker-toggle matSuffix [for]="release"></mat-datepicker-toggle>
          <mat-datepicker #release
                          startView="multi-year"
                          panelClass="example-month-picker"></mat-datepicker>
        </mat-form-field>

        <br>

        <mat-form-field appearance="outline" >
          <mat-label>Select Category</mat-label>
          <mat-select required formControlName="category">
            <mat-option value="Education">Education</mat-option>
            <mat-option value="Economic">Economic</mat-option>
            <mat-option value="Health">Health</mat-option>
            <mat-option value="Travel">Travel</mat-option>
            <mat-option value="Information Technology">Information Technology</mat-option>
          </mat-select>
        </mat-form-field>

        <mat-form-field appearance="outline" >
          <mat-label>Description</mat-label>
          <textarea matInput formControlName="description"></textarea>
        </mat-form-field>

        <br>
        <mat-card-subtitle>Choose file</mat-card-subtitle>
        <input hidden="true" class="upload" accept="text/csv, .csv"  type="file" #csvInput id="csvreport" (change)="validateFile($event)">
        <mat-card class="upload-file">
          <input readonly matInput name="fileHidden" formControlName="csvFile">
        </mat-card>
      </form>
      <button mat-raised-button class="upload" (click)="csvInput.click()">Select Dataset (CSV)</button>
      <br>
      <button mat-raised-button class="button"  color="primary" (click)="uploadDataset()" [disabled]="this.uploadInProgress || this.uploadDetailsFormGroup.invalid">Submit</button>
      <button mat-raised-button class="button"  type="reset"  mat-button (click)="onReset()" >Reset</button>

  </div>
  </div>
  </mat-card>
</div>

